[
  {
    "mergeOptions": {
      "transform": "(data, context) => {\n  // Default transform function\n  const clean = (text) =>\n    text\n      .toString()\n      .replace(/\\r\\n|\\r|\\n/g, ' ')\n      .replace(/&amp;nbsp;/g, ' ')\n      .replace(/&amp;#160/g, ' ')\n      .replace(/\\u00A0/g, ' ')\n      .replace(/\\s{2,}/g, ' ')\n      .replace(/\"\\s{1,}/g, '\"')\n      .replace(/\\s{1,}\"/g, '\"')\n      .replace(/^ +| +$|( )+/g, ' ')\n    // eslint-disable-next-line no-control-regex\n      .replace(/[\\x00-\\x1F]/g, '')\n      .replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, ' ');\n  data.forEach((obj) =>\n    obj.group.forEach((row) =>\n      Object.keys(row).forEach((header) =>\n        row[header].forEach((el) => {\n          el.text = clean(el.text);\n        }),\n      ),\n    ),\n  );\n\n  for (const { group } of data) {\n    for (const row of group) {\n      try {\n        var product;\n        var regEx;\n        var regexMatch;\n        var productDetails;\n        console.log('CodeTrade');\n        console.log(row);\n\n        if (row.aggregateRating) {\n          product = row.aggregateRating[0].raw;\n          // regEx = /\\(([^)]+)\\)/;\n          // regexMatch = regEx.exec(product);\n\n          productDetails = JSON.parse(product);\n          // console.log(\"productDetails coDE tRADE\");\n          // console.log(productDetails);\n          row.aggregateRating = [\n            { text: productDetails.aggregateRating.ratingValue },\n          ];\n        }\n        if (row.ratingCount) {\n          var product = row.ratingCount[0].text;\n          // console.log(product);\n          var processProduct= JSON.parse(product)\n          console.log(processProduct.aggregateRating.ratingCount);\n          row.ratingCount = [\n            { text: processProduct.aggregateRating.ratingCount },\n          ];\n\n        //   //regEx = /\\(([^)]+)\\)/;\n        //   //regexMatch = regEx.exec(product);\n\n        //   productDetails = JSON.parse(product);\n        //   console.log(\"productDetails coDE tRADE\");\n        //   console.log(productDetails);\n        //   row.ratingCount = [\n        //     { text: productDetails.ratingCount },\n        //   ];  \n        }\n        if (row.availabilityText) {\n          row.availabilityText = [\n            {\n              text:\n                row.availabilityText[0].text === 'true'\n                  ? 'In Stock'\n                  : 'Out Of Stock',\n            },\n          ];\n        }\n\n        \n\n        // if (row.nameExtended) {\n        //   product = row.brandText[0].text;\n        //   regEx = /\\(([^)]+)\\)/;\n        //   regexMatch = regEx.exec(product);\n\n        //   productDetails = JSON.parse(regexMatch[1]);\n        //   if (\n        //     productDetails.name.includes(productDetails.brand)\n        //   ) {\n        //     row.nameExtended = [{ text: productDetails.name }];\n        //   } else {\n        //     row.nameExtended = [\n        //       {\n        //         text: `${productDetails.brand} ${productDetails.name}`,\n        //       },\n        //     ];\n        //   }\n        // }\n        // if(row.gitn8){\n        //   product = row.gitn8[0].text;\n        //   regEx = /\\(([^)]+)\\)/;\n        //   regexMatch = regEx.exec(product);\n\n        //   productDetails = JSON.parse(regexMatch[1]);\n        //   row.gitn8 = [\n        //     { text: productDetails.gitn8 },\n        //   ];\n        // }\n      } catch (exception) {\n        console.log('Error in transform', exception);\n      }\n    }\n  }\n  return data;\n}"
    },
    "extractionConfig": "product/details/stores/j/joker/TR/extract",
    "data": [
      {
        "group": [
          {
            "category": [
              {
                "text": "Bebek ve Anne",
                "xpath": "/html/body/main[1]/div[1]/nav[1]/ol[1]/li[2]"
              },
              {
                "text": "Bebek Bezi",
                "xpath": "/html/body/main[1]/div[1]/nav[1]/ol[1]/li[3]"
              },
              {
                "text": "Bantlı Bebek Bezi",
                "xpath": "/html/body/main[1]/div[1]/nav[1]/ol[1]/li[4]"
              },
              {
                "text": "Prima Mayo Bebek Bezi 3-4 Beden 12 Adet",
                "xpath": "/html/body/main[1]/div[1]/nav[1]/ol[1]/li[5]"
              }
            ],
            "ratingCount": [
              {
                "text": "{ \"@context\": \"http://schema.org/\", \"@type\": \"Product\", \"name\": \"Prima Mayo Bebek Bezi 3-4 Beden 12 Adet\", \"image\": \"https://statics.joker.com.tr/images/catalog/large/69/111069/prima-mayo-bebek-bezi-3-4-beden-12-adet111069_391918866.jpg\", \"sku\": \"PR81678590\", \"description\": \"Prima Mayo Bebek Bezi 3-4 Beden 12 AdetPRIMA PAMPERS SPLASHERS SWIM DIAPERS 3 BEDEN 12 ADET en uygun fiyat ve kampanyalı avantajıyla Joker'de! Hemen taksit seçenekleri ile Prima Mayo Bebek Bezi 3-4 Beden 12 Adet satın almak için tıklayın!\", \"gtin8\":\"8001090698346\", \"brand\": { \"@type\": \"Thing\", \"name\": \"Prima Mayo Bebek Bezi 3-4 Beden 12 Adet\" }, \"aggregateRating\": { \"@type\": \"AggregateRating\", \"bestRating\": \"5\", \"ratingCount\": \"10\", \"ratingValue\": \"5\" }, \"review\": [ { \"@type\": \"Review\", \"author\": \"berivan.unesi@gmail.com\", \"datePublished\": \"2019-06-27 15:15:11.000000\", \"reviewBody\": \"Memnun kaldık, indirimleri takip ediyoruz\", \"name\": \"berivan\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"mmuslehiddinoglu@gmail.com\", \"datePublished\": \"2017-05-28 13:11:13.000000\", \"reviewBody\": \"Ürün çok güzel..Çok memnunuz..Sipariş teslimatı çok hızlı ve kusursuz..Teşekkürler Joker!!!\", \"name\": \"MERT\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"karslanozer@gmail.com\", \"datePublished\": \"2016-11-03 02:53:10.000000\", \"reviewBody\": \"Bebeğimin sağlığı herşeyden önemli onun için prima diyorum üstüne bez duymadım\", \"name\": \"Kamile\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"cagri_atalay@hotmail.com\", \"datePublished\": \"2016-11-02 23:24:49.000000\", \"reviewBody\": \"Bebeğimin rahatligi icin tek gecerim asla baska bez kullanmam\", \"name\": \"Cagri\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"sureyya.bayram69307\", \"datePublished\": \"2016-11-02 17:58:05.000000\", \"reviewBody\": \"Prima varsa bebeğim rahat ben rahat\", \"name\": \"Süreyya\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"busra@trictronic.com\", \"datePublished\": \"2016-11-01 23:51:48.000000\", \"reviewBody\": \"Fiyatıda kalteside mükemmel..\", \"name\": \"Büşra\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"gamzedonmez.86@hotmail.com\", \"datePublished\": \"2016-11-01 21:41:46.000000\", \"reviewBody\": \"MÜKEMMEL ÜRÜN PRİMA KALİTESİNE O KADAR GÜVENİYORUMKİ BEBEĞİMİN İLK GÜNÜNDEN SON GÜNÜNE KADAR HEP ALTINDA BEBĞİM MUTLU BENDE MUTLU...:)\", \"name\": \"Gamze\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"minecinar@hotmail.com.tr\", \"datePublished\": \"2016-11-01 19:49:02.000000\", \"reviewBody\": \"bebeğim dogdugu ilk günden beri kullanıyoruz ve çok memnunuz kesinlikle pişik yapmıyor ve saatler geçse bile altı kupkuru kalıyor.Gelsin uzun uykular:)\", \"name\": \"mine\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"mine@denistanbul.com\", \"datePublished\": \"2016-11-01 19:44:39.000000\", \"reviewBody\": \"Bebeğim dogdugundan beri kullanıyorum ne pişik ne kızrıklık hiç birisi olmadı ve ben hiç pişik kremine prima aktif bebek sayesinde gerek duymadım.Teşekkürler Prima.\", \"name\": \"MİNE\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"ramazanalpak@hotmail.com\", \"datePublished\": \"2016-11-01 15:17:48.000000\", \"reviewBody\": \"kızım dogmadan yaptıgım bebek bezi arastırmalarında çevremdeki insanlar genelde primayı tavsiye etti.prima aktif bebek bezi fiyat ve kalıte olarak bebek için en ideal urun olduguna karar verdim.joker magazalarının indirimlerini takip ederek çok ama çok uygun fiyatlara alarak hem çoçugumuzun rahatını ve saglıgını saglıyoruz hemde paramız cebimizde kalıyor.herkese tavsiye ederim.hiç düşünmeden kullanabilirler\", \"name\": \"ramazan\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } } ], \"offers\": { \"@type\": \"Offer\", \"priceCurrency\": \"TRY\", \"price\": \"34.99\", \"itemCondition\": \"http://schema.org/NewCondition\", \"availability\": \"http://schema.org/InStock\", \"priceValidUntil\":\"02/15/2021\", \"url\":\"https://joker.com.tr/urun/prima-mayo-bebek-bezi-3-4-beden-12-adet\", \"seller\":{ \"@type\": \"Organization\", \"name\": \"Joker\" } } }",
                "xpath": "/html/body/main[1]/div[1]/script[2]"
              }
            ],
            "aggregateRating": [
              {
                "text": "3",
                "xpath": "/html/body/main[1]/div[1]/script[2]",
                "type": "NUMBER",
                "raw": "{ \"@context\": \"http://schema.org/\", \"@type\": \"Product\", \"name\": \"Prima Mayo Bebek Bezi 3-4 Beden 12 Adet\", \"image\": \"https://statics.joker.com.tr/images/catalog/large/69/111069/prima-mayo-bebek-bezi-3-4-beden-12-adet111069_391918866.jpg\", \"sku\": \"PR81678590\", \"description\": \"Prima Mayo Bebek Bezi 3-4 Beden 12 AdetPRIMA PAMPERS SPLASHERS SWIM DIAPERS 3 BEDEN 12 ADET en uygun fiyat ve kampanyalı avantajıyla Joker'de! Hemen taksit seçenekleri ile Prima Mayo Bebek Bezi 3-4 Beden 12 Adet satın almak için tıklayın!\", \"gtin8\":\"8001090698346\", \"brand\": { \"@type\": \"Thing\", \"name\": \"Prima Mayo Bebek Bezi 3-4 Beden 12 Adet\" }, \"aggregateRating\": { \"@type\": \"AggregateRating\", \"bestRating\": \"5\", \"ratingCount\": \"10\", \"ratingValue\": \"5\" }, \"review\": [ { \"@type\": \"Review\", \"author\": \"berivan.unesi@gmail.com\", \"datePublished\": \"2019-06-27 15:15:11.000000\", \"reviewBody\": \"Memnun kaldık, indirimleri takip ediyoruz\", \"name\": \"berivan\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"mmuslehiddinoglu@gmail.com\", \"datePublished\": \"2017-05-28 13:11:13.000000\", \"reviewBody\": \"Ürün çok güzel..Çok memnunuz..Sipariş teslimatı çok hızlı ve kusursuz..Teşekkürler Joker!!!\", \"name\": \"MERT\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"karslanozer@gmail.com\", \"datePublished\": \"2016-11-03 02:53:10.000000\", \"reviewBody\": \"Bebeğimin sağlığı herşeyden önemli onun için prima diyorum üstüne bez duymadım\", \"name\": \"Kamile\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"cagri_atalay@hotmail.com\", \"datePublished\": \"2016-11-02 23:24:49.000000\", \"reviewBody\": \"Bebeğimin rahatligi icin tek gecerim asla baska bez kullanmam\", \"name\": \"Cagri\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"sureyya.bayram69307\", \"datePublished\": \"2016-11-02 17:58:05.000000\", \"reviewBody\": \"Prima varsa bebeğim rahat ben rahat\", \"name\": \"Süreyya\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"busra@trictronic.com\", \"datePublished\": \"2016-11-01 23:51:48.000000\", \"reviewBody\": \"Fiyatıda kalteside mükemmel..\", \"name\": \"Büşra\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"gamzedonmez.86@hotmail.com\", \"datePublished\": \"2016-11-01 21:41:46.000000\", \"reviewBody\": \"MÜKEMMEL ÜRÜN PRİMA KALİTESİNE O KADAR GÜVENİYORUMKİ BEBEĞİMİN İLK GÜNÜNDEN SON GÜNÜNE KADAR HEP ALTINDA BEBĞİM MUTLU BENDE MUTLU...:)\", \"name\": \"Gamze\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"minecinar@hotmail.com.tr\", \"datePublished\": \"2016-11-01 19:49:02.000000\", \"reviewBody\": \"bebeğim dogdugu ilk günden beri kullanıyoruz ve çok memnunuz kesinlikle pişik yapmıyor ve saatler geçse bile altı kupkuru kalıyor.Gelsin uzun uykular:)\", \"name\": \"mine\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"mine@denistanbul.com\", \"datePublished\": \"2016-11-01 19:44:39.000000\", \"reviewBody\": \"Bebeğim dogdugundan beri kullanıyorum ne pişik ne kızrıklık hiç birisi olmadı ve ben hiç pişik kremine prima aktif bebek sayesinde gerek duymadım.Teşekkürler Prima.\", \"name\": \"MİNE\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } }, { \"@type\": \"Review\", \"author\": \"ramazanalpak@hotmail.com\", \"datePublished\": \"2016-11-01 15:17:48.000000\", \"reviewBody\": \"kızım dogmadan yaptıgım bebek bezi arastırmalarında çevremdeki insanlar genelde primayı tavsiye etti.prima aktif bebek bezi fiyat ve kalıte olarak bebek için en ideal urun olduguna karar verdim.joker magazalarının indirimlerini takip ederek çok ama çok uygun fiyatlara alarak hem çoçugumuzun rahatını ve saglıgını saglıyoruz hemde paramız cebimizde kalıyor.herkese tavsiye ederim.hiç düşünmeden kullanabilirler\", \"name\": \"ramazan\", \"reviewRating\": { \"@type\": \"Rating\", \"bestRating\": \"5\", \"ratingValue\": \"5\", \"worstRating\": \"1\" } } ], \"offers\": { \"@type\": \"Offer\", \"priceCurrency\": \"TRY\", \"price\": \"34.99\", \"itemCondition\": \"http://schema.org/NewCondition\", \"availability\": \"http://schema.org/InStock\", \"priceValidUntil\":\"02/15/2021\", \"url\":\"https://joker.com.tr/urun/prima-mayo-bebek-bezi-3-4-beden-12-adet\", \"seller\":{ \"@type\": \"Organization\", \"name\": \"Joker\" } } }",
                "locale": "tr",
                "value": 3
              }
            ],
            "imageAlt": [
              {
                "text": "PRIMA PAMPERS SPLASHERS SWIM DIAPERS 3 BEDEN 12 ADET",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[4]/div[1]/section[1]/div[1]"
              }
            ],
            "alternateImages": [
              {
                "text": "https://statics.joker.com.tr/images/catalog/510x538/69/111069/prima-mayo-bebek-bezi-3-4-beden-12-adet111069_1658342517.jpg",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[1]/div[2]/div[2]/div[4]/button[2]/img[1]/@src"
              },
              {
                "text": "https://statics.joker.com.tr/images/catalog/510x538/69/111069/prima-mayo-bebek-bezi-3-4-beden-12-adet111069_1970408397.jpg",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[1]/div[2]/div[2]/div[4]/button[3]/img[1]/@src"
              },
              {
                "text": "https://statics.joker.com.tr/images/catalog/510x538/69/111069/prima-mayo-bebek-bezi-3-4-beden-12-adet111069_1231117257.jpg",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[1]/div[2]/div[2]/div[4]/button[4]/img[1]/@src"
              },
              {
                "text": "https://statics.joker.com.tr/images/catalog/510x538/69/111069/prima-mayo-bebek-bezi-3-4-beden-12-adet111069_203543429.jpg",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[1]/div[2]/div[2]/div[4]/button[5]/img[1]/@src"
              }
            ],
            "price": [
              {
                "text": "34,99 TL",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[1]/div[3]/form[1]/div[1]/div[3]/div[1]/div[2]/p[1]"
              }
            ],
            "description": [
              {
                "text": "PRIMA PAMPERS SPLASHERS SWIM DIAPERS 3 BEDEN 12 ADET",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[5]/div[3]/div[1]/section[1]/div[1]/p[1]"
              }
            ],
            "priceCurrency": [
              {
                "text": "TL",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[1]/div[3]/form[1]/div[1]/div[3]/div[1]/div[2]/p[1]/span[2]"
              }
            ],
            "brandText": [
              {
                "text": "Prima",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[4]/div[1]/section[1]/div[3]/table[1]/tbody[1]/tr[1]/td[2]"
              }
            ],
            "manufacturer": [
              {
                "text": "Polonya",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[4]/div[1]/section[1]/div[3]/table[1]/tbody[1]/tr[5]/td[2]"
              }
            ],
            "sku": [
              {
                "text": ": PR81678590",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[4]/div[1]/section[1]/p[1]/span[1]"
              }
            ],
            "name": [
              {
                "text": "Prima Mayo Bebek Bezi 3-4 Beden 12 Adet",
                "xpath": "/html/body/main[1]/div[1]/div[8]/div[1]/div[3]/form[1]/div[1]/div[1]/h1[1]"
              }
            ],
            "availabilityText": [
              {
                "text": "Out of Stock"
              }
            ],
            "quantity": [
              {
                "text": "1"
              }
            ],
            "secondaryImageTotal": [
              {
                "text": "4",
                "type": "NUMBER",
                "raw": "4",
                "locale": "tr",
                "value": 4
              }
            ]
          }
        ],
        "xpath": "/html/body/main[1]/div[1]"
      }
    ],
    "url": "https://www.joker.com.tr/urun/prima-mayo-bebek-bezi-3-4-beden-12-adet-111069",
    "timestamp": "2021-02-15T13:09:27.472Z"
  }
]