singleRecord: false
regionsSelector: null
recordSelector: null
recordXPath: //*[div[@class="_4ddWXP" or @class="_2kHMtA"]] #//*[div[@class="_4ddWXP"]]
fields:
  - name: thumbnail
    singleValue: false
    description: The URL for the product thumbnail image 
    #xpath: //*[@id="container"]/div/div[3]/div[2]/div[1]/div[2]/div/div/div/div/a[1]/div/div/div/img/@src
    #xpath: //div[@id='image'] 
    #xpath: //div[2]/div/div/div/div/a/div[1]/div/div/img/@src | //div[@class="_2kHMtA"]//div[@class="CXW8mj"]/img/@src
    #xpath: //div[@class="E2-pcE _1q8tSL"]//div[@class="CXW8mj"]/img/@src
    #xpath: //*[@id="container"]/div/div[3]/div[2]/div[1]/div[2]/div/div/div/div/a/div/div/div/img/@src
    #xpath: //div[2]/div/div/div/div/a/div[1]/div/div/img/@src | //div[@class="_2kHMtA"]//div[@class="CXW8mj"]/img/@src |  //div[@id='image']
    xpath: //a[@selector="productLink"]/@imgUrl
    
  - name: productUrl
    singleValue: false
    description: The URL for the product details page
    xpath: //a[@class="s1Q9rs"]/@href | //a[@class="_1fQZEK"]/@href
    regExp: (.+)
    regExpReplace: https://www.flipkart.com$1
  - name: searchUrl
    singleValue: true
    xpath: //div[@id='url']
  - name: name
    singleValue: false
    description: The product name
    xpath: //a[@class="s1Q9rs"]/@title | //div[@class="_4rR01T"]
  - name: reviewCount
    singleValue: false
    description: The number of reviews
    xpath: //*[@id="container"]/div/div[3]/div[2]/div/div/div/div/div/div/div/span[2] | //span[@class="_2_R_DZ"]/span/span[1]/text()
  - name: ratingCount
    singleValue: true
    description: The number of ratings
  - name: price
    singleValue: false
    description: The offered price for the product
    xpath: //div[@class="_30jeq3 _1_WHN1"] | //div[@class="_30jeq3"]
  - name: listPrice
    singleValue: false
    description: The stated undiscounted price for the product
    xpath: //div[@class="_3I9_wc _27UcVY"] | //div[@class="_3I9_wc"]
  - name: rank
    singleValue: false
    description: search/listing rank
    type: NUMBER
  - name: rankOrganic
    singleValue: false
    description: The position (rank) within the list excluding sponsored/paid results
    type: NUMBER 
    
#  Should these be source specific formulas or in the extractor? 
  - name: id
    singleValue: true
    description: Unique id (within this extractor)
    xpath: //div/div[3]/div[2]/div[1]/div[2]/div/div/div/@data-id
    #xpath: //div[@class="_13oc-S"]/div/@data-id
    
  - name: nameExtended
    singleValue: false
    description: The product name, prefixing "${brand} - " if not included in "name" and appending " - ${variantType}" if necessary (fixed per extractor)
    xpath: //a[@class="s1Q9rs"]/@title | //div[@class="_4rR01T"]
    #//*[@id="container"]/div/div/div/div/div/div/div/div/div/a[2]/@title
  - name: aggregateRating2
    singleValue: false
    description: The stated aggregate rating normalized to be out of 5
    xpath: /html/body/div[1]/div/div[3]/div/div/div/div/div/div/div/div/span/div | //div[@class="E2-pcE _1q8tSL"]//div[@class="_3LWZlK"]
    type: NUMBER 
  
  - name: sponsored
    singleValue: false
    xpath: //div[@class="_220jKJ"]/text() | (//div[@class="_220jKJ JyiPCp"]/text()) | //div[@class="_4HTuuX"]/span[text() = "Ad"] | //div[@class="_2tfzpE"]/span[text() = "Ad"]
    description: Is sponsored/paid
    type: BOOLEAN