singleRecord: false
regionsSelector: null
recordSelector: null
recordXPath: //li[@class="category-item" and @id] | //div[contains(@class,"product-thumbnail") and not(contains(@class,"promo-tile")) and @id]
# recordXPath: //div[@class="product-price OneLinkNoTx"]/../../../..//parent::li[@class="category-item" and @id] | //span[@class="price-no-promo"]/../../../..//parent::div[contains(@class,"product-thumbnail") and not(contains(@class,"promo-tile")) and @id]
fields:
  - name: originalPageSku
    singleValue: false
    description: The store-specific product identifier
    xpath: //@href  
    regExp: >-
      (childItemId=)(.+)(_&)
    regExpReplace: $2
  - name: altPageSku
    singleValue: false
    description: The store-specific product identifier
    xpath: //a[@id="productTemplateId"]/img/@item-url 
    regExp: >-
      (Marcus\/)(.+)(_m)
    regExpReplace: $2
  - name: price
    singleValue: false
    xpath: //span[@class="price-no-promo"] | //span[contains(@class,"currentPrice")]/span[contains(@class,"new-pricing")] | //div[@class="product-price OneLinkNoTx"] | //p[contains(@class,"highlight")]/span[@class="price OneLinkNoTx"]
  - name: listPrice
    singleValue: false
    xpath: //span[contains(@class,"price-enhancement")]/span[contains(@class,"new-pricing")] | //p[contains(@class,"strikethrough")]/span[@class="price OneLinkNoTx"]
  - name: brand
    singleValue: false
    description: The brand name
    defaultValue: 'none'
    xpath: //span[contains(@class,"designer-enhancement")] | //div[contains(@class,"productdesigner")]
  - name: category
    singleValue: false
    description: The categories (e.g. from breadcrumbs)
    xpath: ancestor::html//ul[contains(@class,"breadcrumb")]/li
  - name: productUrl
    singleValue: false
    description: The URL for the product details page
    xpath: //a[@class="product-thumbnail__link"]/@href | //a[@id="productTemplateId"]/@href
    regExp: >-
      (.+)
    regExpReplace: https://www.neimanmarcus.com$1
  - name: name
    singleValue: false
    description: The product name
    xpath: //span[@class="name"] | //div[contains(@class,"productname")]