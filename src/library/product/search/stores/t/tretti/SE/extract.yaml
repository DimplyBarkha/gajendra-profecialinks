singleRecord: false
regionsSelector: null
recordSelector: null
recordXPath: null
fields:
  - name: id
    singleValue: false
    description: Identifier for a variant from a store where variants share the same sku
    xpath: //div[@id="pid"]
    # xpath: //*[@id="content"]/div[3]/div[2]/div[2]/div[1]/div/div/div/div/a/img/@src #|//*[@id="content"]//h3/span[2]/a|
    # regExp: (\/)(\w+.)(.jpg)
    # regExpReplace: $1
    # xpath: //div[@class='srp-product-box__spec-price-wrapper list']/div[@class='srp-product-box__spec-section list']/h3[@class='spec-section__title']/span[@class='spec-section__title__name']/a | //div[@class='srp-product-box__spec-price-wrapper list']/div[@class='srp-product-box__spec-section list']/h3[@class='spec-section__title']/span[@class='spec-section__title__name']/a | //h3[@class="spec-section__title"]/span[@class="spec-section__title__name"]/a/text()
    # regExp: ^([A-Z]+\d+\w+)
    # regExpReplace: $1
    # xpath: //script[@type="application/ld+json"][contains(text(), "data-npkid")]/text()
    # regExp: (data-npkid":)([\"])([^,]+)(\")
    # regExpReplace: $3
  - name: productUrl
    singleValue: true
    description: The URL for the product details page
    xpath: //div[@id="prodUrl"]
    # xpath: //div[@class='srp-product-box__spec-section list']/h3[@class='spec-section__title']/span[@class='spec-section__title__brand']/a/@href | //h3[@class="spec-section__title"]/span[@class="spec-section__title__brand"]/a/@href | //div[@class="price-section__price-wrap"]/a/@href | //h3[@class="spec-section__title"]/span[@class="spec-section__title__name"]/a/@href
    # # xpath: //*[@id="content"]/div/div/div/div/div/div/div/div/a/@href
    # regExp: (.*)
    # regExpReplace: https://www.tretti.se$1
  - name: thumbnail
    singleValue: true
    description: The URL for the product thumbnail image
    xpath: //div[@id="prodThumbnail"]
    # xpath: //div[@class='srp-product-box__content-wrapper']/div[@class='srp-product-box__image-section list']/a/img[@class='image-section__image']/@src
  - name: name
    singleValue: true
    description: The product name
    xpath: //div[@id="prodName"]
    # xpath: //*[@id="content"]//div/div/div/div/div/h3
    # xpath: //*[@id="content"]//h3/span[3]
    #xpath: //h3[@class='spec-section__title']/span[@class='spec-section__title__name']/a
  - name: rank
    singleValue: true
    description: search/listing rank
    type: NUMBER
    # xpath: //div[@class="rank"]
  - name: rankOrganic
    singleValue: true
    description: The position (rank) within the list excluding sponsored/paid results
    type: NUMBER
    # xpath: //div[@class="rank"]
  - name: price
    singleValue: false
    description: The offered price for the product
    xpath: //div[@id="prodPrice"]
    # xpath: //*[@id="content"]/div/div/div/div/div/div/div/div/div/div/div/div/div/div/div[2]|//div[@class='price-section__energy-and-price-wrap']/div[@class='price-section__price-wrap']/a/span[@class='price-section__price']
    ## xpath: /html/body/div[5]/div[3]/div[2]/div[2]/div[1]/div/div/div[1]/div[2]/div[2]/div[2]/div/div/div/div/div[2]/span
    # regExp: ([\d.]+)
    # regExpReplace: $1

#  Should these be source specific formulas or in the extractor? 
  - name: nameExtended
    singleValue: true
    description: The product name, prefixing "${brand} - " if not included in "name" and appending " - ${variantType}" if necessary (fixed per extractor)
    xpath: //div[@id="prodName"]
    # xpath: //div[@class='srp-product-box__spec-section list']/h3[@class='spec-section__title']/span[@class='spec-section__category-title']
  - name: aggregateRating2
    singleValue: false
    description: The stated aggregate rating normalized to be out of 5
    xpath: //div[@id="prodRating"]
    regExp: (\d+)(\.?)(\d+)?
    regExpReplace: $1,$3
    # xpath: //div[@class="aggregateRating"]
  # - name: aggregateRating2
  #   singleValue: false
  #   description: The stated aggregate rating normalized to be out of 5
  #   type: NUMBER
  #   xpath: //div[@id="aggregateRating"]
  #   regExp: (\d.+)(\d)
  #   regExpReplace: $1.$2
  #   #xpath: //*[@id="lb-results"]/div/div/ul/li/div/div/a/div/p/span/span/span[2]/text()
  