singleRecord: false
regionsSelector: null
recordSelector: null
recordXPath: //ul[contains(@class,"products_list")]/li[@class="products_list-item"]
fields:
  - name: id
    xpath: //li[@class="products_list-item"]/span/@data-json
    regExp: \"variant":"(\w+\-)?([^"]+)|\"code_a":"(\w+\-)?([^"]+)
    regExpReplace: $2$4
  - name: gtin
    xpath: //li[@class="products_list-item"]/span/@data-json
    regExp: ("gtin":")(\d+)
    regExpReplace: $2
  - name: name
    xpath: //a[@class="product_preview-title"]/@title
  - name: productUrl
    xpath: //a[@class="product_preview-title"]/@href
    regExp: (.+)
    regExpReplace: https://www.elcorteingles.es$1
  - name: thumbnail
    xpath: //a[@class="product_link"]//img/@data-src
    regExp: (.+)(cdn|www)(.+)
    regExpReplace: https://$2$3
  - name: aggregateRating2
    xpath: //a[@itemprop="aggregateRating"]/@aria-label
    regExp: (\d+).(\d)
    regExpReplace: $1,$2
  - name: reviewCount
    xpath: //meta[@itemprop="reviewCount"]/@content
  - name: price
    xpath: //div[contains(@class,"pricing js-preview-pricing")]/span[contains(@class,'price _big')]
    regExp: ([0-9\,]+\s?\D)
  - name: rank
  - name: rankOrganic
  - name: sponsored
    defaultValue: false
  - name: searchUrl
    xpath: ancestor::html//*[contains(@class,"page-link")]