singleRecord: false
regionsSelector: null
recordSelector: null
recordXPath: //div[contains(@class,"offerList--tileview")]/*[not(.//div[contains(@class,"offerList-item-shopName")])]
fields:
  - name: productUrl
    singleValue: false
    xpath: //a//@href
    regExp: (.+)
    regExpReplace: https://www.idealo.de$1
  - name: thumbnail
    singleValue: false
    xpath: //div[@id="pd_id"]
    regExp: (.+)
    regExpReplace: https://cdn.idealo.com/images/product/$1/de_DE/0/mittelgross.jpg
  - name: name
    singleValue: false
    xpath: //div[contains(@id,"result-title")] 
  - name: ratingCount
    singleValue: false
    xpath: //span[contains(@class,"rating-count")]
  - name: reviewCount
    singleValue: false
    xpath: //span[contains(@class,"rating-count")]
  - name: price
    singleValue: false
    xpath: //div[contains(@class,"offerList-item-priceMin")]/text()[2] | //div[@id="pd_price"]
  - name: rank
    singleValue: false
    description: search/listing rank
    type: NUMBER
  - name: rankOrganic
    singleValue: false
    description: The position (rank) within the list excluding sponsored/paid results
    type: NUMBER
  - name: id
    singleValue: false
    xpath: //@data-rt-click
    regExp: (.+)(itemId\=)(\d+)(.+)
    regExpReplace: $3
  - name: id1
    xpath: //@data-gtm-payload
    regExp: (.+)(\"productId\"\:\")(\d+)(\")(.+) 
    regExpReplace: $3
  - name: nameExtended
    singleValue: false
    xpath: //div[contains(@id,"result-title")]
  - name: aggregateRating2
    singleValue: false
    xpath: //div[contains(@class,"rating-stars")]/@class
  - name: searchUrl
    singleValue: true
    xpath: ancestor::html//div[@id='added-searchurl'][last()]
