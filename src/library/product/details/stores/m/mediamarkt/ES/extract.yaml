# extends: ../TR/extract
singleRecord: true
regionsSelector: null
recordSelector: null
recordXPath: null
fields:
  - name: shippingDimensions
    xpath: //td[contains(.,"Tamaño embalaje")]/following-sibling::td[1]
  - name: energyEfficiency
    xpath: //td[contains(.,"Eficiencia energética")]/following-sibling::td[1]
  - name: color
    xpath: //td[contains(.,"Color:")]/following-sibling::td[1]
  - name: quantity
    xpath: //td[contains(.,"pulgadas")]/following-sibling::td[1]
  - name: _input
    xpath: //meta[@property="og:url"]/@content
    regExp: (.+-)(\d+)(.htm.+)
    regExpReplace: $2
  - name: productUrl
    xpath: //meta[@property="og:url"]/@content
  - name: hasComparisonTable
    xpath: //div[@class="inpage_selector_comparison"]//div[contains(@class,'h2')]
    regExp: (.+)
    regExpReplace: Yes

  # - name: availabilityText
  #   xpath: //div[contains(@class,"CTACartWishliststyled")]//button[contains(@id,"pdp-add-to-cart-button")]
  - name: nameExtended
    xpath: (//div[contains(@data-test,"mms-select-details-header")]//h1)[1]
  - name: name
    xpath: (//div[contains(@data-test,"mms-select-details-header")]//h1)[1]
  - name: price
    xpath: (//div[contains(@class,"Pricestyled__BrandedPrice")]//span[@font-family="price"])[1]
  - name: listPrice
    xpath: (//div[contains(@class,"StrikeThrough__StyledStrikeThrough")])[1]
  - name: promotion
    xpath: //span[contains(@class,"DiscountLabelstyled__StyledDiscountLabel")]
  - name: image
    description: URL of the main product image
    xpath: //div[contains(@class,"Gallerystyled__StyledGallerySlider")]//ul/li[1]//img/@src
  - name: imageAlt
    description: Alt text of the main product image
    xpath: //div[contains(@class,"Gallerystyled__StyledGallerySlider")]//ul/li[1]//img/@alt
  - name: alternateImages
    description: Other product images (not in manufacturer description)
    xpath: //div[contains(@class,"Gallerystyled__StyledGallerySlider")]//ul//li[position()>1]//img/@src
  - name: metaKeywords
    description: The <meta> keywords content
    xpath: //meta[@name="keywords"]/@content
  - name: category
    description: The categories (e.g. from breadcrumbs)
    xpath: //ul[contains(@class,"Breadcrumbstyled__StyledUl")]//li/a[not(@aria-label="home-link")]
  - name: description
    description:
      Product description supplied by website - may be concatenanted from
      multiple places; specifically not the manufacturer description
    xpath: '@additional-description'
  - name: descriptionBullets
    description: Number of ul > li tags in the description
    type: NUMBER
    xpath: count(//article[@class="description"]//ul/li)
  - name: brandText
    singleValue: false
    xpath: //script[@type="application/ld+json"][contains(text(),"brand")]
    regExp: brand":{"@type":"[^"]+","name":"([^"]+)
    regExpReplace: $1
  - name: manufacturer
    description: Product manufacturer
    xpath: //span[contains(@class,"DetailsHeader__StyledHeaderInfo")]//a
  - name: quantity
    description: Quantity as described on the page
    xpath: 
  - name: weightNet
    description: Net weight as described on the page
    xpath: //td[contains(.,"Peso") and not(contains(.,"Peso embalado"))]/following-sibling::td[1]
  - name: weightGross
    description: Gross weight as described on the page
    xpath: //td[contains(.,"Peso embalado")]/following-sibling::td[1]
  - name: gtin
    singleValue: false
    xpath: //script[@type="application/ld+json"][contains(text(),"gtin")]
    regExp: gtin13":"([^"]+)
    regExpReplace: $1
  - name: eangtin
    xpath: //script[@type="application/ld+json"][contains(text(),"gtin")]
    regExp: gtin13":"([^"]+)
  - name: variantId
    description: Identifier for a variant from a store where variants share the same sku
    xpath: //script[@type="application/ld+json"][contains(text(),"sku")]
    regExp: sku":"([^"]+)
    regExpReplace: $1
  - name: mpc
    description: The manufacturer model code (unique) of the product
    xpath: (//td[contains(.,"Modelo")]/following-sibling::td[1])[1]
  - name: ratingCount
    description: The number of ratings
    xpath: //script[@type="application/ld+json"][contains(text(),"aggregateRating")]
    regExp: ratingCount":"([^"]+)
    regExpReplace: $1
  - name: aggregateRatingText
    xpath: //script[@type="application/ld+json"][contains(text(),"aggregateRating")]
    regExp: ratingCount":"([^"]+)
  - name: aggregateRating
    description: The stated aggregate rating normalized to be out of 5
    xpath: //script[@type="application/ld+json"][contains(text(),"aggregateRating")]
    regExp: ratingCount":"([^"]+)
  - name: variantCount
    description: Number of variants listed
    type: NUMBER
    xpath: count(//div[contains(@class,"ProductVariantsstyled__StyledVariantsColorsSlider")]//ul/li)
  - name: manufacturerDescription
    description: The extended description of the product supplied by the lister
    xpath: //div[@id='manufacturerDescription']
  - name: manufacturerImages
    description: Images within the third party description
    xpath: //div[@id='aplusImages']
  - name: videos
    description: URLs of videos on page
    xpath: //div[@id='added_video']