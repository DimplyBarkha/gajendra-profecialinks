singleRecord: false
regionsSelector: null
recordSelector: null
recordXPath: //div[@id='my-variants']
fields:
  - name: image
    singleValue: false
    xpath: //div[@id='my-variants']/@image
  - name: variantId
    singleValue: false
    xpath: //div[@id='my-variants']/@sku
    regExp: >-
      [0-9]+
    # xpath: ancestor::html//div[@class="ProductMainSection__itemNumber"]
    # manualSelector: div.ProductMainSection__itemNumber
    # regExp: Item\s*(.*)
    # regExpReplace: $1
  - name: sku
    singleValue: false
    xpath: //div[@id='my-variants']/@sku
    regExp: >-
      [0-9]+
  - name: color
    singleValue: false
    xpath: //div[@id='my-variants']/@color
  - name: variantInformation
    singleValue: false
    xpath: //div[@id='my-variants']/@color
    # xpath: ancestor::html//div[@class="ProductSwatches__Cell"]//img[contains(@alt,'selected')]/@alt | ancestor::html//div[@class="ProductSwatches__Cell"]//div[contains(@class,'ProductSwatchImage__Rectangle--selected')]/span/text() | ancestor::html//div[@class='ProductDetail__colorPanel']/span[not(contains(@class,"Text--bold"))]
    #regExp: ([^\s]+)(\s.*)?
    #regExpReplace: $1
  - name: alternateImages
    singleValue: false
    xpath: (ancestor::html//div[@class='s7staticimage']//img/@src)[position() > 1]
    regExp: (.*)\?.*
    regExpReplace: $1
  - name: metaKeywords
    singleValue: false
  - name: category
    singleValue: false
    xpath: ancestor::html//div[@class="Breadcrumb"]/ul/li/a
    # manualSelector: div.Breadcrumb > ul > li > a:first-child ~ a
  - name: nameExtended
    singleValue: false
    xpath: concat(ancestor::html//div[@class="ProductMainSection__brandName"]//p, ' ', ancestor::html//div[@class="ProductMainSection__productName"]//span)
    # manualSelector: html[data-triggered] > head >title
  - name: price
    singleValue: false
    xpath: (ancestor::html//div[contains(@class,"ProductPricingPanel")]//span[not(contains(@class,"Text--line-through"))])[1]/text()
  - name: listPrice
    singleValue: false
    xpath: ancestor::html//div[contains(@class,"ProductPricingPanel")]//span[contains(@class,"Text--line-through")]/text()
  - name: availabilityText
    singleValue: false
    xpath: ancestor::html//script[@type="application/ld+json"][contains(text(),'availability":"http://schema.org/InStock"')]
    regExp: (.+)
    regExpReplace: In Stock
    defaultValue: Out of Stock
  - name: description
    singleValue: false
    xpath: ancestor::html//div[@id="ii_description"]
    # manualSelector: div#ii_description
  - name: additionalDescBulletInfo
    singleValue: false
    xpath: (ancestor::html//div[@class="ProductDetail__productContent"])[1]/ul/li
  - name: brandText
    singleValue: false
    xpath: ancestor::html//div[@class="ProductMainSection__brandName"]//p
    # manualSelector: div.ProductMainSection__brandName p
  - name: manufacturerDescription
    singleValue: false
    xpath: ancestor::html//div[@id="wc-power-page"] | ancestor::html//div[@id="other-enh-content-text"]
  - name: manufacturerImages
    singleValue: false
    xpath: ancestor::html//div[@id="wc-power-page"]//img/@src | ancestor::html//div[@id="other-enh-content-images"]
  - name: videos
    singleValue: false
    xpath: ancestor::html//div[@class="ProductDetail__productContent"]//iframe/@src | ancestor::html//div[starts-with(@id,'video_')]
  - name: name
    singleValue: false
    xpath: ancestor::html//div[@class="ProductMainSection__productName"]//span
  - name: variants
    singleValue: false
    xpath: ancestor::html//div[@class="ProductSwatches__Cell"]//div[@class=""]//img/@src
    regExp: .*\/(.*?)\?.*
    regExpReplace: $1
  - name: firstVariant
    singleValue: false
    xpath: ancestor::html//div[@class="ProductSwatches__Cell"]//div[@class=""]//img/@src
    regExp: .*\/(.*?)\?.*
    regExpReplace: $1
  - name: weightNet
    singleValue: false
    xpath: ancestor::html//tr[th[contains(@aria-label,"weight")]]/th[2]/@aria-label | //tr[th[contains(@aria-label,"weight")]]/td
  - name: shippingDimensions
    singleValue: false
  - name: gtin
    singleValue: false
    xpath: ancestor::html//div[@data-gtin]/@data-gtin
  - name: variantCount
    singleValue: false
    xpath: count(ancestor::html//div[@class="ProductSwatches__Cell"])
    defaultValue: "0"
  - name: mpc
    singleValue: false
    xpath: ancestor::html//div[@data-mpn]/@data-mpn
  - name: aggregateRating
    singleValue: false
    xpath: ancestor::html//section[contains(@class,"ProductDetail__content")]//div[contains(@class,"RatingPanel__panel")]/label
    # manualSelector: section.ProductDetail__content div.RatingPanel__panel > label
    type: NUMBER
  - name: ratingCount
    singleValue: false
    xpath: ancestor::html//span[contains(@class,"pr-snippet-review-count")]
    # manualSelector: span.pr-snippet-review-count
    regExp: (\d+)
    regExpReplace: $1
  - name: directions
    singleValue: false
    xpath: ancestor::html//div[contains(@class,"ProductDetail__howToUse")]//div[contains(@class,"Collapsible")]
    # manualSelector: div.ProductDetail__howToUse > div.Collapsible
  - name: specifications
    singleValue: false
    xpath: ancestor::html//div[contains(@class,"wc-specifications-responsive")]/table/tbody/tr
    # manualSelector: div.wc-specifications-responsive > table > tbody > tr
  - name: quantity
    singleValue: false
    xpath: ancestor::html//div[@class="ProductMainSection__itemNumber"]/p[contains(.,'Size')]/text() | ancestor::html//div[@class="ProductDetail__colorPanel"]
  - name: ingredientsList
    singleValue: false
    xpath: ancestor::html//div[@class='ProductDetail__ingredients']//div[@class="ProductDetail__productContent"]
  - name: imageZoomFeaturePresent
    singleValue: false
    defaultValue: Yes
  - name: promotion
    singleValue: false
    xpath: ancestor::html//div[@class='ProductMainSection__offersHeader']
  - name: secondaryImageTotal
    singleValue: false
    xpath: count((ancestor::html//div[@class='s7staticimage']//img/@src)[position() > 1])
  - name: unInterruptedPDP
    xpath: ancestor::html//h1/@pdp
  - name: inTheBoxUrl
    xpath: ancestor::html//a[@class='in-the-box']/@href | //h2[contains(text(),'in the box')]/following-sibling::div[@class="wc-aplus-body"]//ul//li//img/@src
  - name: inTheBoxText
    xpath: ancestor::html//a[@class='in-the-box'] | //h2[contains(text(),'in the box')]/following-sibling::div[@class="wc-aplus-body"]//ul//li
  - name: hasComparisonTable
    xpath: ancestor::html//div[@data-section-template-code="comparison-table"]//table
    regExp: (.+)
    regExpReplace: Yes
    defaultValue: No
