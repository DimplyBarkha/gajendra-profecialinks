singleRecord: true
regionsSelector: null
recordSelector: null
recordXPath: null
fields:
  - name: image
    xpath: ((//li[@data-carousel="productCarousel"]/img/@src)[1]|(//li[@class="slick-active"]/img/@src)[1])[1]
    regExp: (//johnlewis.*)
    regExpReplace: https:$1
  - name: imageAlt
    xpath: (//li[@data-carousel="productCarousel"]/img/@alt)[2]
  - name: alternateImages
    singleValue: false
    xpath: //ul[@class='thumbnail-wrapper']//li//img/@data-large-image
    # regExp: (//johnlewis.*)
    # regExpReplace: https:$1
  - name: ingredientsList
    xpath: //div[@class="product-detail__description-inner"]/ul[2]/li/text() | //div[@class="product-detail__description-inner"]/ul/li/text()
  - name: category
    singleValue: false
    xpath: //ul[@class='breadcrumbs__list']//li[position()>1]/a/text()
  - name: nameExtended
    xpath: //div[@id="store-stock-app"]/@data-product-name
  - name: pricePerUnit
    xpath: //p[@class="unit-price"]/text()
    regExp: (\Â£.+\d )
  - name: price
    xpath: (//p[@class="price price--large"]/text())[1]
  - name: availabilityText
    xpath: //script[contains(.,'"availability":"InStock"')]
    regExp: (.+)
    regExpReplace: In Stock
    defaultValue: Out Of Stock
  - name: description
    singleValue: false
    xpath: //div[@class='product-detail__description-inner']//text()
  - name: descriptionBullets
    description: Number of ul > li tags in the description
    xpath: count(//div[contains(@class, "product-detail__description")]//li)
    type: NUMBER
  - name: brandText
    xpath: (//span[@id="brand-link-app"]/@data-brand-name | //body/@brandName)[1]
  - name: manufacturer
    description: Product manufacturer
  - name: quantity
    xpath: (//a/@data-selected-size | //dl[@class="product-specifications-list"]/dt[contains(text(),'Pack Size')]/following-sibling::dd[1]/text() | //dl[@class="product-specifications-list"]/dt[contains(text(),'Size (g)')]/following-sibling::dd[1]/text() | //dl[@class="product-specifications-list"]/dt[contains(text(),'Volume')]/following-sibling::dd[1]/text() | //dl[@class="product-specifications-list"]/dt[contains(text(),'Size ')]/following-sibling::dd[1]/text())[1]
  - name: quantity2
    xpath: //ul[contains(@class,'size-list')]//li[1]/*/text()
  - name: weightNet
    xpath: //dl[@class="product-specifications-list"]/dt[contains(text(),'Weight')]/following-sibling::dd[1]/text()
  - name: weightGross
    description: Gross weight as described on the page
  - name: gtin
    description: GTIN code (includes UPC/EAN)
  - name: sku
    xpath: //div[@class="standard-product-container"]//input[@name="sku"]/@value
    # regExp: image\/JohnLewis\/(\d+)
    # regExpReplace: $1
    # xpath: //script[@id="jsonPageData"]
    # regExp: productId":"(.*?)"
    # regExpReplace: $1
  - name: variantId
    singleValue: true
    xpath: //body/@varinatId | //div[@id="store-stock-app"]/@data-product-code
  - name: mpc
    xpath: //dl[@class="product-specifications-list"]/dt[contains(text(),'Manufacturer Part Number (MPN)')]/following-sibling::dd[1]/text()
    # xpath: //div[@id="store-stock-app"]/@data-sku-id
  - name: packSize
    description:
      The number of packs in the product offer (if stated separately on
      the site to quantity)
  - name: countryOfOrigin
    xpath: //dl[@class="product-specifications-list"]/dt[contains(text(),'Country of Origin')]/following-sibling::dd[1]/text()
  - name: energyEfficiency
    xpath: //dl[@class="product-specifications-list"]/dt[contains(text(),'Energy Rating')]/following-sibling::dd[1]/text()
  - name: warnings
    description: Content under "warnings" header
  - name: ratingCount
    xpath: //div[@class="stars-caption"]/text()
    regExp: (\d+)
    type: NUMBER
  - name: aggregateRating
    xpath: (//span[@class='stars-caption']/span)[1]
  - name: shippingInfo
    description: Shipping information for the product
  - name: shippingDimensions
    xpath: //dl[@class="product-specifications-list"]/dt[contains(text(),'Dimensions')]/following-sibling::dd[1]/text()
  - name: shippingWeight
    description: Stated shipping weight
  - name: color
    description: A textual description of the colour
    xpath: //ul[@class='swatch-list']/li/a/@title
  - name: colorCode
    description: A code description of the color (e.g. RGB hex)
  - name: manufacturerDescription
    singleValue: false
    description: The extended description of the product supplied by the lister
  - name: manufacturerImages
    singleValue: false
    description: Images within the third party description
  - name: videos
    singleValue: false
    xpath: (//video[@class="product-video"]/source)[1]/@src
  - name: name
    xpath: //div[@id="store-stock-app"]/@data-product-name
  - name: inStorePrice
    description: Price in the selected store
  - name: coupon
    description: Text of any coupon offer
  - name: brandLink
    xpath: //span[@id="brand-link-app"]/@data-brand-link
    regExp: (/brand.*)
    regExpReplace: https://www.johnlewis.com$1
  - name: url
    xpath: //meta[@name="og:url"]/@content
  - name: videoLength
    singleValue: false
    description: null
  - name: largeImageCount
    description: null
    type: NUMBER
  - name: featureBullets
    singleValue: false
    description: null
  - name: otherSellersName
    singleValue: false
    description: null
  - name: otherSellersPrice
    singleValue: false
    description: null
  - name: otherSellersShipping
    singleValue: false
    description: null
  - name: secondaryImageTotal
    xpath: count(//ul[@class='thumbnail-wrapper']/li[position()>1]/img/@src)
    type: NUMBER
  - name: specifications
    xpath: //html//div[@id="spec"]
  - name: warranty
    xpath: //p[@class="additional-service-options-item__description"]/text()
    regExp: (\w+\s+){2}
  - name: variantInformation
    xpath: //dd[@class="item-attribute-details"]/text()
  - name: firstVariant
    description: null
  - name: variants
    singleValue: false
    description: null
  - name: additionalDescBulletInfo
    singleValue: false
    xpath: //div[contains(@class, "product-detail__description")]//li
    description: null
  - name: technicalInformationPdfPresent
    description: If there is for example a manual in pdf format on the website. ['Yes','No']
    example: https://www.amazon.de/Hasbro-Spiele-44220100-Mastermind-Kinderspiel/dp/B0007OHUG6
    defaultValue: No
  - name: termsAndConditions
    description: Terms and conditions information text ['Yes','No']
    defaultValue: No
  - name: privacyPolicy
    description: Privacy Policy information text ['Yes','No']
    defaultValue: No
  - name: customerServiceAvailability
    description: Information related to customer service availability (text), ['Yes','No']
    defaultValue: No
  - name: materials
    description: Materials used to make the product
    example: https://www.jdsports.co.uk/product/blue-adidas-linear-20-reversible-wind-breaker-jacket/15988125/
  - name: imageZoomFeaturePresent
    description: If Zoom feature is available for Main image or images in the
      carousel,['Yes','No']
    example: https://www.zalando.de/adidas-neo-sneaker-low-blackwhite-a4315i002-q11.html
    defaultValue: Yes
  - name: inTheBoxUrl
    singleValue: false
  - name: inTheBoxText
    singleValue: false
    xpath: //html//div[@id="ii_inTheBoxData"]
    # xpath: //dt[contains(.,'Accessories Included')]/following-sibling::dd[1]|//b[contains(text(), "In the box")]/ancestor::p/following-sibling::ul//li
    # regExp: (([\w ]*),[ ]+)|(.*?)(?=\r|\n)
    # regExp: ([\w ]*),[ ]+
    regExpReplace: $1
    description: Must include text to show the accessories/tools which come with the product
  - name: hasComparisonTable
    defaultValue: No
    description: Compare the range table or matrix must be present for all vacuum cleaners & air treatment. This is not required for personal care or lighting. As a minimum the comparison table will compare against 1 additional Dyson product.
  # - name: unInterruptedPDP
  #   singleValue: false
  #   xpath: //div[@id='ii_recommended_products']|//li[@data-carousel="recentlyViewedCarousel"]//h3 | (//div[@class="swogo-box"])[1]//div[contains(@class,"swogo-product")]//div[@class="swogo-product-title"]
  # xpath: (//div[@class="swogo-box"])[1]//div[contains(@class,"swogo-product")]//div[@class="swogo-product-title"]
  - name: unInterruptedPDP
    xpath: //import-updp | //li[@data-carousel="recentlyViewedCarousel"]//h3
    description: Titles of products in the sections 'you may also like' or 'sponsored products'. Combine results from Max 3 sections
