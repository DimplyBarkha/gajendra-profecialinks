singleRecord: false
regionsSelector: null
recordSelector: null
recordXPath: //div[@id='added-variant']
fields:
#extracted in transform
- name: image
  singleValue: true
- name: imageAlt
  singleValue: true
  xpath: //script[@id='variant']
  regExp: \"productName\":\"([^"]+)\",
  regExpReplace: $1
- name: alternateImages
  singleValue: false
  xpath: //script[@id='variant']
  regExp: >-
    ({\"id\":\"\w+\",\"url\":\"([^"]+)\"})
  #regExpReplace: $2
- name: videos
  singleValue: false
  xpath: //script[@id='variant']
  regExp: ("versions":{"\w+":")(http[^"]+mp4)(\")
  regExpReplace: $2
- name: metaKeywords
  singleValue: true
  xpath: ancestor::html//meta[@name="keywords"]/@content
- name: category
  singleValue: false
  xpath: //script[@id='variant']
  regExp: ({\"name\":\"[^"]+\",\"url\":\"[^"]+\"})
- name: nameExtended
  singleValue: true
  xpath: //script[@id='variant']
  regExp: \"productName\":\"([^"]+)\",
  regExpReplace: $1
#Attributes
- name: promotion
  singleValue: false
  xpath: //div[@class='container-flags']//span[@class='flag-angle__content']
- name: packSize
  singleValue: true
- name: quantity
  singleValue: true
- name: weightNet
  singleValue: true
- name: weightGross
  singleValue: true

#Pricing and Availability
- name: listPrice
  singleValue: true
  xpath: //script[@id='variant']
  regExp: (\"LIST\":{\"priceType\":\"LIST PRICE\",\"price\":)([\d\.]+)
  regExpReplace: $2
- name: listPrice1
  singleValue: true
  xpath: //script[@id='variant']
  regExp: (\"WAS\":{\"priceType\":\"BASE\",\"price\":)([\d\.]+)
  regExpReplace: $2
- name: price
  singleValue: true
  xpath: //script[@id='variant']
  regExp: (\"CURRENT\":{\"priceType\":\"BASE\",\"price\":)([\d\.]+)
  regExpReplace: $2  
- name: shippingPrice
  singleValue: true
  defaultValue: 0.00
  xpath: //script[@id='variant']
  regExp: (\[{"fulfillmentPrice":{"price":)(\d+\.?\d*)
  regExpReplace: $2
- name: isFreeShipping
  singleValue: true
  defaultValue: Yes
  xpath: //script[@id='variant']
  regExp: ("freeShippingThresholdPrice":{})
  regExpReplace: No
- name: availabilityText
  singleValue: true
  xpath: //div[@id='added-avail']  
- name: availabilityMessage
  singleValue: true
  xpath: //div[@class='prod-fulfillment']//div[@class='fulfillment-text'] | //div[contains(@class,'unavailableBOT')]
- name: brandText
  singleValue: true
  xpath: //div[@id='added-brand']  
  #regExp: (\"brand\":\")([^"]+)\",
  #regExpReplace: $2
- name: productUrl
  singleValue: true
#IDs
- name: gtin
  singleValue: true
  xpath: //div[@id='added-gtin']
  #regExp: (,"upc":")(\w+)
  #regExpReplace: $2
- name: asin
  singleValue: true
  xpath: //div[@id='added-asin']
  #regExp: (,"walmartItemNumber":")(\w+)
  #regExpReplace: $2
- name: sku
  singleValue: true
  xpath: //div[@id='added-sku']
  #regExp: (,"productId":")(\w+)
  #regExpReplace: $2
- name: mpc
  singleValue: true
  xpath: //div[@id='added-mpc']
  #regExp: (\"manufactureNumber\"\:\")([^"]+)(",")
  #regExpReplace: $2
- name: variantId
  singleValue: true
  xpath: //div[@id='added-variantId']
  #regExp: (,"usItemId":")(\w+)
  #regExpReplace: $2


#manufacturer

- name: manufacturer
  singleValue: true
  xpath: //div[@id='added-mName']
  #regExp: (\"manufacturerName\"\:\")([^"]+)(",")
  #regExpReplace: $2
- name: manufacturerDescription
  singleValue: false
  xpath: //div[contains(@class,'wc-aplus')]
- name: manufacturerImages
  singleValue: false
  xpath: //div[contains(@class,'wc-aplus')]//img/@src

  #Description
- name: description
  singleValue: false
  xpath: //script[@id='variant']
  regExp: ("idmlLongDescription":"([^"]*)","idmlShortDescription":"([^"]*)")
  regExpReplace: $3 $2
- name: descriptionBullets
  singleValue: true
- name: additionalDescBulletInfo
  singleValue: false  
  xpath: //script[@id='variant']
  regExp: ("idmlLongDescription":"([^"]*)")
  regExpReplace: $2
- name: ingredientsList
  singleValue: true
  xpath: //script[@id='variant']
  regExp: ("ingredientsList":")(\[{[^\[\]]*"}\])
  regExpReplace: $2
- name: legalDisclaimer
  singleValue: true
- name: directions
  singleValue: true
  xpath: //script[@id='variant']
  regExp: (\"instructions\"\:\")([^"]+)(",")
- name: warnings
  singleValue: true
  #xpath: //p[@class='Warnings'] | //div[@class='LegalBadge-description'][contains(.,'arning')]
  xpath: //script[@id='variant']
  regExp: ("idmlWarnings:[{"name":"[^"]+","value":"([^"]+)"])
  regExpReplace: $2
- name: warranty
  singleValue: true
  xpath: //script[@id='variant']
  regExp: (\"warranty":{"information":")([^"]+)"}
  regExpReplace: $2

#Variant Info

- name: firstVariant
  singleValue: true
  xpath: ancestor::html//script[@id='item']
  regExp: ("primaryProductId":")([^"]+)(","primary)
- name: variantCount
  singleValue: true
- name: variantInformation
  singleValue: false 
  xpath: //script[@id='variant']
  regExp: >-
    {"name":"\w*_\w*","value":"(\w*_\w*-[^\"]*)"}
- name: variants
  singleValue: false
  xpath: ancestor::html//script[@id='item'] |ancestor::html//script[@id='product']
  regExp: ({"productId":")(\w+)
  regExpReplace: $2
- name: color
  singleValue: true 
  xpath: //script[@id='variant']
  regExp: \{\"name\"\:\"actual_color\",\"value\"\:\"actual_color-([^\"]*)\"\}
  regExpReplace: $1
- name: colorCode
  singleValue: true

  #Reviews
- name: ratingCount
  singleValue: true
  xpath: //div[@id='added-ratingCount']
  #regExp: ("numberOfReviews":)(\d+)
  #regExpReplace: $2  
- name: aggregateRatingText
  singleValue: true
- name: aggregateRating
  singleValue: true
  xpath: //div[@id='added-rating']
  #regExp: ("averageRating":)([^,]+)

  #ShippingInfo
- name: shippingInfo
  singleValue: true 
  xpath: //script[@id='variant']
  regExp: \"sellerDisplayName\"\:\"([^"]+)","sell
  regExpReplace: $1
  defaultValue: 0.00
- name: shippingDimensions
  singleValue: true
  xpath: //script[@id='variant']
  regExp: (\"name\":\"[^"]*Product Dimensions[^"]*","value":")([^"]+)"
  regExpReplace: $2
- name: shippingWeight
  singleValue: true
  xpath: //script[@id='variant']
  regExp: (\"name\":\"[^"]*Product Weight[^"]*","value":")([^"]+)"
  regExpReplace: $2  
- name: otherSellersName
  singleValue: false
  xpath: //script[@id='variant']
  regExp: ("sellerDisplayName":")([^"]+)(","price)
  regExpReplace: $2  
- name: otherSellersPrice
  singleValue: false
  xpath: //script[@id='variant']
  regExp: ("price":{"priceType":"BASE","price":)(\d+\.?\d*)
  regExpReplace: $2
- name: otherSellersShipping2
  singleValue: false
  xpath: //script[@id='variant']
  regExp: (,"fulfillmentPrice":{"price":)(\d+\.?\d*)
  regExpReplace: $2  
- name: lbb
  singleValue: true
  defaultValue: Yes 
- name: lbbPrice
  singleValue: true  

#Additional Fields
- name: ageSuitability
  singleValue: false
  xpath: //script[@id='variant']
  regExp: (\"name\":\"[^"]*Age Range[^"]*","value":")([^"]+)"
  regExpReplace: $2
- name: energyEfficiency
  singleValue: false  
- name: technicalInformationPdfPresent
  singleValue: true  
  defaultValue: No
  xpath: (ancestor::html//div[@class='ManualsAndGuides'])[1]
  regExp: (.*)
  regExpReplace: Yes
- name: termsAndConditions
  singleValue: false  
  defaultValue: No
- name: privacyPolicy
  singleValue: false
  defaultValue: No
- name: customerServiceAvailability
  singleValue: false 
  defaultValue: No
- name: materials
  singleValue: false
  #xpath: //td[contains(text(),'Material')]/following-sibling::td[@class='s-padding-ends s-padding-sides']|//td[contains(text(),'Fabric Content')]/following-sibling::td[@class='s-padding-ends s-padding-sides']
  xpath: //script[@id='variant']
  regExp: (\"name\":\"[^"]*Material[^"]*","value":")([^"]+)"
  regExpReplace: $2
- name: Image360Present
  singleValue: false
  defaultValue: No
- name: imageZoomFeaturePresent
  singleValue: false
  xpath: //div[contains(@class,'hover-zoom-hero-image-container')]
  regExp: (.*)
  regExpReplace: Yes
  defaultValue: No

#Nutrition Info
- name: nutritionInfo
  singleValue: true
  xpath: //script[id='variant']
  regExp: ("nutritionFacts":{"calorieInfo(.*)}})(,"legalBadges")
  regExpReplace: $1

- name: servingSize
  singleValue: false
    
- name: servingSizeUom
  singleValue: false

- name: numberOfServingsInPackage
  singleValue: false

- name: caloriesPerServing
  singleValue: false
  
- name: caloriesFromFatPerServing
  singleValue: false

- name: totalFatPerServing
  singleValue: false

- name: totalFatPerServingUom
  singleValue: false

- name: saturatedFatPerServing
  singleValue: false

- name: saturatedFatPerServingUom
  singleValue: false

- name: transFatPerServing
  singleValue: false

- name: transFatPerServingUom
  singleValue: false

- name: cholesterolPerServing
  singleValue: false 
- name: cholesterolPerServingUom
  singleValue: false
- name: saltPerServing
  singleValue: true   
- name: saltPerServingUom
  singleValue: true   
- name: sodiumPerServing
  singleValue: false
- name: sodiumPerServingUom
  singleValue: false
- name: totalCarbPerServing
  singleValue: false
- name: totalCarbPerServingUom
  singleValue: false

- name: dietaryFibrePerServing
  singleValue: false

- name: dietaryFibrePerServingUom
  singleValue: false

- name: totalSugarsPerServing
  singleValue: false
  
- name: totalSugarsPerServingUom
  singleValue: false

- name: proteinPerServing
  singleValue: false

- name: proteinPerServingUom
  singleValue: false  

- name: vitaminAPerServing
  singleValue: false

- name: vitaminAPerServingUom
  singleValue: false
 
- name: vitaminCPerServing
  singleValue: false

- name: vitaminCPerServingUom
  singleValue: false

- name: calciumPerServing
  singleValue: false

- name: calciumPerServingUom
  singleValue: false

- name: ironPerServing
  singleValue: false

- name: ironPerServingUom
  singleValue: false
