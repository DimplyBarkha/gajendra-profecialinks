singleRecord: false
regionsSelector: null
recordSelector: null
recordXPath: //table/tbody/tr[@class="append_variant"]|//div[@id="selling-essentials"]//h3[contains(text(), "SOLD OUT")]
fields:
  - name: allDesignerBrands
    xpath: ancestor::html//a[contains(@href,"designer") and contains(text(),"Designer Brands")]/../..//following-sibling::li
  - name: image
    xpath: ancestor::html//img[contains(@name,"gallery-image")]/@src
    regExp: (.+)&w=(.+)&h=
    regExpReplace: $1&w=780&h=1196
  - name: alternateImages
    xpath: ancestor::html//ul[@class="slider-list"]//li[1]//button[position()>1]//img/@src | //ul[@class="slider-list"]//li[2]//button//img/@src
    regExp: (.+jpeg)(\?.+)
    regExpReplace: $1
  - name: nameExtended
    xpath: //table/tbody/tr[@class="append_variant"]//td[@class="nameextended"]
  - name: listPrice
    xpath: ancestor::html//span[@id="original-price"]//span[2]
  - name: price
    xpath: ancestor::html//span[@itemprop="price"]/@content
  - name: availabilityText
    xpath: ancestor::html//span[contains(text(),'Add to Bag')]
    regExp: (.+)
    regExpReplace: In Stock
    defaultValue: Out of Stock
  - name: availability
    xpath: //td[@class="avail"]
  - name: description
    xpath: ancestor::html//div[contains(text(),"Details & Care")]/following-sibling::div[1] |  ancestor::html//div[contains(text(),"Details & Care")]/following-sibling::ul/li
  - name: descriptionBullets
    xpath: count(//div[contains(text(),"Details & Care")]/following-sibling::ul/li)
  - name: brandText
    xpath: ancestor::html//section//span[@itemprop="name"]
  - name: brand
    xpath: ancestor::html//section//span[@itemprop="name"]
  - name: brandLink
    xpath: ancestor::html//section//span[@itemprop="name"]/parent::a/@href
    regExp: (.+)
    regExpReplace: https://www.nordstrom.com$1
  - name: designer
    singleValue: true
    description: Populate if product has a designer label
  - name: filterType
    singleValue: true
    description: The filter used for the search listing
  - name: ratingCount
    xpath: ancestor::html//span[@itemprop="reviewCount"]/@content
    description: The number of ratings
  - name: aggregateRating
    xpath: ancestor::html//span[@itemprop="ratingValue"]/@content
  - name: videos
    xpath: ancestor::html//a[@class='appendedvideo']/@href
    description: URLs of videos on page
  - name: name
    xpath: ancestor::html//h1[@itemprop="name"]
  - name: numberHearts
    singleValue: true
    description: The number of likes for the product
  - name: variantSize
    singleValue: false
    description: colour / scent / flavour / other
    xpath: //td[@class="variant"]
  - name: viewing
    singleValue: false
    description: The number to identify the current views of the product, if available
  - name: additionalDescBulletInfo
    xpath: ancestor::html//div[contains(text(),"Details & Care")]/following-sibling::ul/li
  - name: shippingDimensions
    xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),' x')]
  - name: warranty
    xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),'warranty')]
  - name: specifications
    xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),' x') or contains(text(),'cord')]
  - name: weightNet
    xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),' lb.')]
  - name: mpc
    xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),'Model')]
    regExp: (.+):\s(.+)
    regExpReplace: $2
  - name: metaKeywords
    xpath: ancestor::html//meta[@name="keywords"]/@content
  - name: ingredientsList
    xpath: ancestor::html//span[contains(text(),'Ingredients')]/following-sibling::p[1]
  - name: legalDisclaimer
    xpath: ancestor::html//p[@class="disclaimer"]
  - name: directions
    xpath: ancestor::html//strong[contains(text(),'How to use')]/parent::p | ancestor::html//p[contains(text(),'How to use')]/following-sibling::p[1] | ancestor::html//p[contains(text(),'How to use')] | ancestor::html//strong[contains(text(),'How to use')]/parent::p/following-sibling::p
  - name: promotion
    xpath: ancestor::html//section[@id="product-page-price-lockup"]//span[contains(text(),'% off')] | ancestor::html//div[@id="product-page-banner-giftwithpurchase"]//span
  - name: productDescriptionIm
  - name: imageAlt
    xpath: ancestor::html//section[contains(@id,"product-page-thumbnail-gallery")]//div//img//@alt
  - name: color
    xpath: ancestor::html//ul[@id="product-page-swatches"]//li/button/img/@alt
