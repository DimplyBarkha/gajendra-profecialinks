singleRecord: false
regionsSelector: null
recordSelector: null
recordXPath: //table/tbody/tr[@class="append_variant"]
fields:
  - name: image
    xpath: ancestor::html//ul[@class="slider-list"]//li//button[contains(@class,"BIgNz")][1]//img[contains(@name,"gallery-image")]/@src
    regExp: (.+)&w=(.+)&h=
    regExpReplace: $1&w=780&h=1196
  - name: alternateImages
    xpath: ancestor::html//ul[@class="slider-list"]//li//button[@class="BIgNz"]//img[contains(@name,"gallery-image")]/@src
    regExp: (.*)&w=(.*)&h=
    regExpReplace: $1&w=780&h=1196
  - name: nameExtended
    xpath: ancestor::html//section//span[@itemprop="name"] | //h1[@itemprop="name"]
  - name: listPrice
    xpath: ancestor::html//section[@id="product-page-price-lockup"]//span[contains(@id,"original-price")]/span[last()]
  - name: price
    xpath: ancestor::html//span[@id="current-price-string"] | ancestor::html//span[@id="current-price-string"]/following-sibling::sup
    regExp: ^[^â€“]+
  - name: availabilityText
    xpath: ancestor::html//span[contains(text(),'Add to Bag')]
    regExp: (.+)
    regExpReplace: In Stock
    defaultValue: Out of Stock
  - name: description
    xpath:  ancestor::html//div[contains(text(),"Details & Care")]/following-sibling::div[1] |  ancestor::html//div[contains(text(),"Details & Care")]/following-sibling::ul/li
    singleValue: false
  - name: descriptionBullets
    xpath: count(//div[contains(text(),"Details & Care")]/following-sibling::ul/li)
  - name: brandText
    xpath: ancestor::html//section//span[@itemprop="name"]
  - name: brandLink
    xpath: ancestor::html//section//span[@itemprop="name"]/parent::a/@href
    regExp: (.+)
    regExpReplace: https://www.nordstrom.com$1
  - name: variantId 
    xpath: //table/tbody/tr[@class="append_variant"]//@variant_id
  - name: ratingCount
    xpath: ancestor::html//span[@itemprop="reviewCount"]/@content
    description: The number of ratings
  - name: aggregateRating
    xpath: ancestor::html//span[@itemprop="ratingValue"]/@content
  - name: videos
    xpath: ancestor::html//a[@class='appendedvideo']/@href
    description: URLs of videos on page
  - name: name
    xpath: ancestor::html//h1[@itemprop="name"]
  # - name: sku
    # xpath: ancestor::html//span[contains(text(),"Item \#")]/text()
    # regExp: >-
    #   [0-9]+
    # xpath: //table/tbody/tr[@class="append_variant"]//td[@class='sku']/@sku
  - name: variants
    xpath: //table/tbody/tr[@class="append_variant"]//@variant_id
  - name: additionalDescBulletInfo
    xpath: ancestor::html//div[contains(text(),"Details & Care")]/following-sibling::ul/li
  - name: shippingDimensions
    xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),' x')]
  - name: warranty
    xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),'warranty')]
  - name: specifications
    # xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),' x') or contains(text(),'cord')]
    xpath: ancestor::html//div[contains(@class,"_3LvFj")]/ul/li
  - name: weightNet
    xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),' lb.')]
  - name: mpc
    xpath: ancestor::html//div[contains(text(),"Details & Care")]//following-sibling::ul//li/span[contains(text(),'Model')]
    regExp: (.+):\s(.+)
    regExpReplace: $2
  - name: metaKeywords
    xpath: ancestor::html//meta[@name="keywords"]/@content
  - name: ingredientsList
    xpath: ancestor::html//span[contains(text(),'Ingredients')]/following-sibling::p[1]
  - name: legalDisclaimer
    xpath: ancestor::html//p[@class="disclaimer"]
  - name: directions
    xpath: ancestor::html//strong[contains(text(),'How to use')]/parent::p | ancestor::html//p[contains(text(),'How to use')]/following-sibling::p[1] | ancestor::html//p[contains(text(),'How to use')] | ancestor::html//strong[contains(text(),'How to use')]/parent::p/following-sibling::p
  - name: promotion
    xpath: ancestor::html//section[@id="product-page-price-lockup"]//span[contains(text(),'% off')] | ancestor::html//div[@id="product-page-banner-giftwithpurchase"]//span
  - name: productDescriptionIm
  - name: imageAlt
    xpath: ancestor::html//ul[@class="slider-list"]//li//button[contains(@class,"BIgNz")][1]//img[contains(@name,"gallery-image")]/@alt
  - name: firstVariant
    xpath: ancestor::html//span[contains(@class,"UI69S _1XmmN")] | ancestor::html//span[contains(@class,"UI69S")]
    # regExp: selected\s(.+)\scolor
    # regExpReplace: $1
  - name: variantCount
    xpath: count(//table/tbody/tr[@class="append_variant"]/@variant_id)
  - name: quantity
    xpath: ancestor::html//ul[@id="size-filter-product-page-option-list"]//div[@class="_11U2i"]//span[2]/parent::div/span[1] | ancestor::html//button[@class="_1oaUx"]
    singleValue: false
  - name: color
    xpath: ancestor::html//span[contains(@class,"UI69S _1XmmN")] | ancestor::html//span[contains(@class,"UI69S")]
  - name: variantInformation
    xpath: //table/tbody/tr[@class="append_variant"]//td[@class="variant"]
  - name: unInterruptedPDP
    singleValue: false
    # xpath:  //div[@class="_3Kq13 _3h4My"]//div | //div[@class="_3Kq13"]//div
    xpath: ancestor::html//div[contains(@id,"product-recommendations-shelf")]//section//ul//li//div[contains(@class,"_3Kq13")] | //h2[contains(text(),"Recently viewed")]//parent::header//following-sibling::section//li//div[@class="_3Kq13 _1m773"]/div 
  - name: hasComparisonTable
    defaultValue: 'No'