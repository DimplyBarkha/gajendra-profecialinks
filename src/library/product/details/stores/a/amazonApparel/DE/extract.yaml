extends: ../../amazonPharmapacks/US/extract
fields:
  - name: asin
    xpath: //script[contains(.,'parentAsin')][contains(@type, "a-state")]
    regExp: (.+)\"asinList\"\:\"([A-Z0-9]+)(.*)
    regExpReplace: $2
    singleValue: true
  - name: image
    xpath: //img[@id="landingImage"]/@src
  - name: size
    singleValue: true
    xpath: //option[@id='native_size_name_0'] | //div[@id='variation_size_name']//span[@class='selection']
  - name: variantAsins
    xpath: //li[contains(., 'ASIN')]
    regExp: >-
      (.+):(.+)
    regExpReplace: $2
  - name : variantInformation
    xpath: //div[@id='variation_color_name']//span
  - name: sku
    xpath: //li/b[contains(., 'Modellnummer')][1]/../text()
    singleValue: true
  - name: mpc
    xpath: //li/b[contains(., 'Modellnummer')][1]/../text()
    singleValue: true
  - name: ratingCount
    singleValue: true
    xpath: //*[@id="acrCustomerReviewText"]
    regExp: (^[.0-9]+)
  - name: aggregateRating
    singleValue: true
    xpath: //span[@data-hook]
    regExp: (.+)von(.+)
    regExpReplace: $1
  - name: shippingInfo
    xpath: //div[@id='merchant-info']/a
    singleValue: true
    regExp: (.+)
    regExpReplace: Verkauf und Versand durch $1
  - name: shippingWeight
    singleValue: true
    xpath: //li[contains(., 'Produktgewicht inkl. Verpackung:')]/text()
    regExp: >-
      (.+):(.+)
    regExpReplace: $2
  - name: variantCount
    xpath: count(//ul[contains(@class, 'imageSwatches')]/li)
  - name: availabilityText
    singleValue: true
    xpath: //*[@id='availability']/span
  - name: nameExtended
    singleValue: true
    xpath: //h1
  - name: gtin
    xpath: //li/b[contains(text(), 'UPC:')]/../text()
  - name: directions
    xpath: //div[contains(@id, 'important-information')]/div[contains(@class,'content')]/span[contains(text(), 'Directions')]/../p[text()]/text()
  - name: lbb
    xpath: ///div[@id='merchant-info']/a
    regExp: (.+)
    regExpReplace: "YES"
    defaultValue: "NO"
    singleValue: true
  - name: lbbPrice
    xpath: //span[@id="price_inside_buybox"]
    singleValue: true
  - name: featureBullets
    singleValue: false
    xpath: //*[@id='feature-bullets']//ul/li/span
  - name: otherSellersName
    xpath: //span[contains(@class,'mbcMerchantName')]
  - name: otherSellersPrice
    xpath: //span[contains(@class,'mbcMerchantName')]/parent::div/preceding-sibling::div//span[contains(@id,'mbc-price')]
  - name: otherSellersShipping2
    xpath: //span[contains(@id, "mbc-shipping")]
  - name: otherSellersPrime
    xpath: //span[contains(@id, "mbc-shipping")]
  - name: primeFlag
    xpath: //*[@id="primeValue"]
  - name: listPrice
    xpath: //span[contains(@class, 'priceBlockStrikePriceString')]
    singleValue: false
  - name: legalDisclaimer
    xpath: //div[contains(@id, 'important-information')]/div[contains(@class,'content')]/span[contains(text(), "Legal Disclaimer")]/../p[text()]/text()
  - name: weightNet
    xpath: //div[contains(@id, 'detail-bullets')]//div[contains(@class, 'content')]//ul/li/b[contains(text(), 'Item Weight')]/../text()
    regExp: '[^()]+'
  - name: variantId
    singleValue: true
    xpath: //div[contains(@id, 'detail-bullets')]//div[contains(@class, 'content')]//ul/li/b[contains(text(), 'Item model number')]/following-sibling::text()[1]
  - name: firstVariant
    xpath: //link[@rel='canonical']/@href
    regExp: (.+)dp\/(.+)
    regExpReplace: $2
  - name: pasin
    xpath: //link[@rel='canonical']/@href
    regExp: (.+)dp\/(.+)
    regExpReplace: $2
  - name: brandLink
    xpath: //a[@id="bylineInfo"]/@href
    regExp: >-
      (.+)
    regExpReplace: amazon.de$1
    singleValue: true
  - name: videos
    xpath: //video/@src
    singleValue: true

