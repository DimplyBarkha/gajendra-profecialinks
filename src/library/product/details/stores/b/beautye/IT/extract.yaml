# 
singleRecord: true
regionsSelector: null
recordSelector: null
recordXPath: null
fields:
  - name: image
    singleValue: false
    xpath: //meta[@property="og:image"]/@content    
  - name: imageAlt
    singleValue: false
    xpath: //div[@class="fotorama__stage__frame fotorama__active fotorama_vertical_ratio fotorama__loaded fotorama__loaded--img"]//img/@alt
  - name: alternateImages
    singleValue: false
    #xpath: //div[@data-nav-type="thumb"][position()>1]/div//img/@src
    #xpath: //div[contains(@class,"magnify-wheel-loaded")]/@href | //div[contains(@class,"fotorama__thumb fotorama_horizontal_ratio")]//img/@src
    xpath: //div[@class="fotorama__nav__frame fotorama__nav__frame--thumb"]//div/img/@src 
    
  - name: metaKeywords
    singleValue: false
    xpath: //meta[@name="keywords"]/@content
  - name: category
    singleValue: false
    xpath: //div[@class="box-tocart"]//button/@data-category
    # //ul[@class="items"]/li[position()>1][position()<last()]
  - name: nameExtended
    singleValue: false
    xpath: //h1[@class="page-title"]/span | //div[@itemprop="description"]
    #xpath: //meta[@name="title"]/@content 
    #xpath: //div[@class="fotorama__caption__wrap"][1] | //div[@itemprop="description"]
    # xpath: concat(//span[@class='brand-no-link'],' ',//div[@class='fotorama__caption__wrap'][1])
  - name: listPrice
    singleValue: false
    xpath: //span[@data-price-type="oldPrice"]//span[@class="price"]
    #xpath: //div[contains(@class,"swatch-option")]//div[contains(@class,"custom-option-price")]/text()
  - name: price
    singleValue: false
    xpath: //span[@data-price-type="finalPrice"]//span[@class="price"]
    #xpath: //div[contains(@class,"swatch-option")]//div[contains(@class,"custom-option-finalprice")]/text()
  - name: availabilityText
    singleValue: false
    xpath: //div[@class="stock available"]/span/text()
    regExp: (.+)
    regExpReplace: In Stock
    defaultValue: Out of Stock
  - name: description
    singleValue: false
    xpath: //span[contains(text(),"Descrizione")]//..//..//following-sibling::div[1][@data-role="content"]
  - name: directions
    singleValue: false
    xpath: //span[contains(text(),"Consigli")]//..//..//following-sibling::div[1][@data-role="content"]    
  - name: descriptionBullets
    singleValue: false
    description: Number of ul > li tags in the description
    type: NUMBER
  - name: brandText
    singleValue: false
    xpath: //div[@class="box-tocart"]//button/@data-brand | //span[@class="brand-no-link"]
    #| //div[@class="product_logo_link"]//img/@src
    # //span[@class="brand-no-link"]
  - name: manufacturer
    singleValue: false
    description: Product manufacturer
  - name: quantity
    singleValue: false
    xpath: (//div[@class="custom-option-label col-4"][contains(text(),"ml")])[1]
  - name: weightNet
    singleValue: false
    description: Net weight as described on the page
  - name: weightGross
    singleValue: false
    description: Gross weight as described on the page
  - name: gtin
    singleValue: false
    xpath: //div[@class="price-box price-final_price"]/@data-product-id
  - name: sku
    singleValue: false
    xpath: //meta[@itemprop="sku"]/@content
    # regExp: conf_([^"]+)
    # regExpReplace: $1
  - name: variantId
    singleValue: false
    xpath: //meta[@itemprop="sku"]/@content
    # regExp: conf_([^"]+)
    # regExpReplace: $1
    #xpath: //div[@class="fotorama__caption__wrap"]/@id
    # regExp: labelledby(.+)
    # regExpReplace: $1
  - name: mpc
    singleValue: false
    description: The manufacturer model code (unique) of the product
  - name: packSize
    singleValue: false
    # xpath: //div[contains(@class,"swatch-option row text selected")]//div[contains(@class,"custom-option-label")]
  - name: legalDisclaimer
    singleValue: false
    description: Content under "legal disclaimer" header
  - name: secondaryImageTotal
    singleValue: false
    xpath: count(//div[@class="fotorama__nav__frame fotorama__nav__frame--thumb"]//div/img/@src) 
  - name: colorCode
    singleValue: false
    description: A code description of the color (e.g. RGB hex)
  - name: manufacturerDescription
    singleValue: false
    description: The extended description of the product supplied by the lister
  - name: manufacturerImages
    singleValue: false
    # xpath: //p[@class="am-banners-lite-img"]/a/@href
  - name: videos
    singleValue: false
    description: URLs of videos on page
  - name: name
    singleValue: false
    xpath: //h1[@class="page-title"]/span
    # //div[@class="fotorama__caption__wrap"][1]
  - name: promotion
    singleValue: false
    xpath: (//div[@class="custom-option-sale"])[1]
  - name: variantInformation
    singleValue: false
    # xpath: //div[contains(@class,"swatch-attribute")]/@attribute-code
    xpath: //span[@class="swatch-attribute-selected-option"]
  - name: energyEfficiency
    singleValue: false
    description: Energy rating of a product.
      https://www.amazon.de/Siemens-WM16W541-Waschmaschine-Schnellwaschprogramm-Nachlegefunktion/dp/B015FJFK14
    example: A+, A+++, B
  - name: technicalInformationPdfPresent
    singleValue: false
    description: If there is for example a manual in pdf format on the website. ['Yes','No']
    example: https://www.amazon.de/Hasbro-Spiele-44220100-Mastermind-Kinderspiel/dp/B0007OHUG6
    defaultValue: No
  - name: termsAndConditions
    singleValue: false
    description: Terms and conditions information text ['Yes','No']
    defaultValue: No
  - name: ingredientsList
    singleValue: false
    xpath: //span[contains(text(),"Ingredienti")]//..//..//following-sibling::div[1][@data-role="content"]/text()
  - name: customerServiceAvailability
    singleValue: false
    description: Information related to customer service availability (text), ['Yes','No']
    defaultValue: Yes
  - name: materials
    singleValue: false
    description: Materials used to make the product
    example: https://www.jdsports.co.uk/product/blue-adidas-linear-20-reversible-wind-breaker-jacket/15988125/
  - name: Image360Present
    singleValue: false
    description: If 360 image is present in the carousel ['Yes','No']
    example: https://www.amazon.com/Trinsic-Single-Handle-Magnetic-Champagne-9159-CZ-DST/dp/B0050EN8E6
    defaultValue: No
  - name: imageZoomFeaturePresent
    singleValue: false
    description: If Zoom feature is available for Main image or images in the
      carousel,['Yes','No']
    example: https://www.zalando.de/adidas-neo-sneaker-low-blackwhite-a4315i002-q11.html
    defaultValue: Yes
  - name: variantCount
    singleValue: false
    xpath: count(//div[@role="listbox"]/div)
    defaultValue: 0    
  - name: variants
    singleValue: false
    # xpath: //div[@role="listbox"]/div/@option-id  
    xpath: //script[@data-ommit="true"][contains(text(),"AEC.CONFIGURABLE_SIMPLES")]/text()
    regExp: id\W\W\W(\d{5,})
    regExpReplace: $1
  - name: firstVariant
    singleValue: true
    # xpath: //div[@role="listbox"]/div[1]/@option-id
    xpath: //link[@rel="canonical"]/@href
    regExp: \d{5,}
    # regExpReplace: $1